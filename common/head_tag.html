<script type="text/discourse-plugin" version="0.8">
  api.replaceIcon('thumbtack', 'token-thumbtack')
  api.replaceIcon('lock', 'token-lock')
  api.replaceIcon('link', 'token-link')
  api.replaceIcon('envelope', 'token-far-envelope')
  api.replaceIcon('close', 'token-close')
  api.replaceIcon('times', 'token-close')
  api.replaceIcon('far-image', 'token-photo')

  $(document).ready(function() {
    let currentLocale = I18n.currentLocale(); 
    I18n.translations[currentLocale].js.user.dismiss = "忽略全部未读";
    I18n.translations[currentLocale].js.topic.create = "发帖";
    I18n.translations[currentLocale].js.composer.create_topic = "发帖";
    I18n.translations[currentLocale].js.user.email.title = "钱包地址";
  });
</script>

<script>
  $(function () {
    if (window.devicePixelRatio && devicePixelRatio >= 2) {
      var testElem = document.createElement('div');
      testElem.style.border = '.5px solid transparent';
      document.body.appendChild(testElem);
      if (testElem.offsetHeight == 1) {
        var tbody = document.querySelector('tbody')
        tbody && tbody.classList.add('hairlines');

        var tr = document.querySelector('tr')
        tr && tr.classList.add('hairlines');
      }
      document.body.removeChild(testElem);
    }
  })
</script>